chapterDialogue = [
  {
    "character" : "Lissa",
    "dialogue" : "Chrom, we have to do SOMETHING."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Well, what do you propose we do?"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Chrom, we have to do SOMETHING."
  },
  {
    "character" : "Lissa",
    "dialogue" : "Uh... I don't know!..."
  },
  {
    "character" : "Chrom",
    "dialogue" : "I see you're awake now."
  },
  {
    "character" : "Lissa",
    "dialogue" : "Hey there! (chuckles)"
  },
  {
    "character" : "Chrom",
    "dialogue" : "There are better places to take a nap than on the ground, you know. Give me your hand."
  },
  {
    "character" : "Chrom",
    "dialogue" : "You all right?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Y-yes... Thank you, Chrom."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Ah, then you know who I am?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "No, actually. I... It's strange... <br> Your name, it just...came to me..."
  },
  {
    "character" : "Chrom",
    "dialogue" : "...Hmm, how curious. Tell me, what's your name? What brings you here?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "My name is... It's... Hmm?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "...You don't remember your own name?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I'm not sure if... <br> I'm sorry, but where am I, exactly?"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Hey, I've heard of this! It's called amnesia!"
  },
  {
    "character" : "Frederick",
    "dialogue" : "It's called a load of pegasus dung. "
  },
  {
    "character" : "Frederick",
    "dialogue" : "We're to believe you remember milord's name, but not your own?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "B-but it's the truth!"
  },
  {
    "character" : "Chrom",
    "dialogue" : "...What if it IS true, Frederick?"
  },
  {
    "character" : "Chrom",
    "dialogue" : " We can't just leave <span class=\"male-avatar\">him</span><span class=\"female-avatar\">her</span> here, alone and confused."
  },
  {
    "character" : "Chrom",
    "dialogue" : "What sort of Shepherds would we be then?"
  },
  {
    "character" : "Frederick",
    "dialogue" : "Just the same, milord. <br> I must emphasize caution."
  },
  {
    "character" : "Frederick",
    "dialogue" : "'Twould not do to let a wolf into our flock."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Right then—we'll take <span class=\"male-avatar\">him</span><span class=\"female-avatar\">her</span> back to town and sort this out here."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Wait just one moment. Do I have a say in this?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Peace, friend—I promise we'll hear all you have to say back in town. Now come."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "What will you do with me? Am I to be your prisoner?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Hah! You'll be free to go once we establish that you're no enemy of Ylisse."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Is that where we are? Ylisse?"
  },
  {
    "character" : "Frederick",
    "dialogue" : "You've never heard of the halidom? Ha! Someone pay this <span class='male-avatar'>actor</span><span class='female-avatar'>actress</span>."
  },
  {
    "character" : "Frederick",
    "dialogue" : "<span class='male-avatar'>He</span><span class='female-avatar'>She</span> plays quite the fool! <br>The furrowed brow is especially convincing..."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Frederick, please. <br> This land is known as the Halidom of Ylisse."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Our ruler, Emmeryn, is called the exalt. <br>I suppose proper introductions are in order..."
  },
  {
    "character" : "Chrom",
    "dialogue" : "My name is Chrom—<br>but then, you already knew that."
  },
  {
    "character" : "Chrom",
    "dialogue" : "The delicate one here is my little sister, Lissa."
  },
  {
    "character" : "Lissa",
    "dialogue" : "I am NOT delicate! ...Hmph!"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Ignore my brother, please. <br>He can be a bit thick sometimes."
  },
  {
    "character" : "Lissa",
    "dialogue" : "But you're lucky the Shepherds found you. Brigands would've been a rude awakening!"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Shepherds? You tend sheep? <br>...In full armor?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Heh, it's a dangerous job. <br>Just ask Frederick the Wary here."
  },
  {
    "character" : "Frederick",
    "dialogue" : "A title I shall wear with pride."
  },
  {
    "character" : "Frederick",
    "dialogue" : "Gods forbid one of us keeps an appropriate level of caution."
  },
  {
    "character" : "Frederick",
    "dialogue" : "I have every wish to trust you, stranger, but my station mandates otherwise."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I understand, sir. <br>I would do no less myself."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "My name is <span class=\"avatar-name\">Robin</span>."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "...I just remembered that. How odd. <br>I suppose that's one mystery solved."
  },
  {
    "character" : "Chrom",
    "dialogue" : "<span class=\"avatar-name\">Robin</span>? Is that foreign? <br>...Ah, well. We can discuss it later."
  },
  {
    "character" : "Chrom",
    "dialogue" : "We're almost to town. Once we—"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Chrom, look! The town!"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Damn it! The town is ablaze! <br>Those blasted brigands, no doubt..."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Frederick, Lissa! Quickly!"
  },
  {
    "character" : "Frederick",
    "dialogue" : "What about <span class=\"male-avatar\">him</span><span class=\"female-avatar\">her</span>?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Unless <span class='male-avatar'>he</span><span class='female-avatar'>she</span>'s on fire as well, it can wait!"
  },
  {
    "character" : "Frederick",
    "dialogue" : "Aptly put, milord."
  },
  {
    "character" : "Lissa",
    "dialogue" : "Let's go already!"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "But what about— Hmm..."
  },
  {
    "character" : "Garrick",
    "dialogue" : "Gwa ha ha! Get to it, lads!"
  },
  {
    "character" : "Garrick",
    "dialogue" : "Grab anything shiny, and put the rest to the torch!"
  },
  {
    "character" : "Garrick",
    "dialogue" : "We gots an example to set for these Ylissean types! Ain't that right, lass?"
  },
  {
    "character" : "Maiden",
    "dialogue" : "S-stay away from me! Please! Someone! HEEEEEELP!"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Chrom, we have to stop them!"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Don't worry—after today, these bandits won't be bothering anyone ever again..."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Wait!"
  },
  {
    "character" : "Chrom",
    "dialogue" : "<span class=\"avatar-name\">Robin</span>! You followed us! Why?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I... I'm not certain myself. But I'm armed, and I know my way around a fight if you'll have me."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Of course—strength in numbers. <br> Just stay close!"
  },
  {
    "character" : "Frederick",
    "dialogue" : "Remember, <span class=\"avatar-name\">Robin</span>, we face practiced thieves and murderers."
  },
  {
    "character" : "Frederick",
    "dialogue" : " They will grant us no quarter.<br>It's kill or be killed."
  },
  {
    "character" : "Chrom",
    "dialogue" : "So, <span class=\"avatar-name\">Robin</span>, I see you wear a sword. Is it— Wait, is that a tome? ...You know magic?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I...believe so? I suppose I should check."
  },
  {
    "character" : "Chrom",
    "dialogue" : "You \"believe so\"? Perhaps I'll just keep a few paces behind you for the time being..."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "No, I can control it. I'm sure. Now, how did this work again? Ah, yes..."
  },
  {
    "character" : "Lissa",
    "dialogue" : "We'll see who's delicate! I may not be able to attack like Chrom, but when you get injured?"
  },
  {
    "character" : "Lissa",
    "dialogue" : "I'll be the one stitching your bones back together, care of my trusty staff!"
  },
  {
    "character" : "Lissa",
    "dialogue" : "You just tell me where to go, <span class=\"avatar-name\">Robin</span>."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Is anyone hurt? It would be foolish to leave a wound untreated."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Indeed. Timely use of a staff or a vulnerary should prevent the worst."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Still with us, <span class=\"avatar-name\">Robin</span>?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Hmm... It's strange. Here on the battlefield, I can... Well, I can \"see\" things."
  },
  {
    "character" : "Chrom",
    "dialogue" : "See things? Like what?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "The enemy's strength, their weaponry, the flow of battle..."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I must have studied this somewhere."
  },
  {
    "character" : "Chrom",
    "dialogue" : "So, you're saying you can size up the enemy at a glance?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Yes, it would seem so. And perhaps more, if I apply myself..."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Are you all right, <span class=\"avatar-name\">Robin</span>?<br> Don't rush into danger."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I'm fine, Chrom. Don't worry."
  },
  {
    "character" : "Chrom",
    "dialogue" : "You've lent us your strength, and that makes you a friend."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Having an ally by my side gives me courage."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Thank you, but...<br>I think there's more to it than that."
  },
  {
    "character" : "Chrom",
    "dialogue" : "What do you mean?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I believe there's a tactical advantage to fighting side by side... It's fuzzy.."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Wait, yes: working in pairs improves strength, defense, speed... Yes, yes, I'm sure of it!"
  },
  {
    "character" : "Garrick",
    "dialogue" : "Here, sheepy sheepy! Come to the slaughter!"
  },
  {
    "character" : "Garrick",
    "dialogue" : "Bwaaargh!"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Well, that's the end of that."
  },
  {
    "character" : "Lissa",
    "dialogue" : "Lucky for the town, we were close by.<br> But holy wow, <span class=\"avatar-name\">Robin</span>! You were incredible!"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Swords, sorcery, AND tactics!<br> Is there anything you can't do?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "You're certainly no helpless victim, that much is for sure."
  },
  {
    "character" : "Frederick",
    "dialogue" : "Indeed. Perhaps you might even be capable of an explanation for how you came here?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I understand your skepticism, Sir Frederick."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "And I cannot explain why only some knowledge has returned to me."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "But please, believe me.<br> I have shared all that I know."
  },
  {
    "character" : "Chrom",
    "dialogue" : "You fought to save Ylissean lives.<br> My heart says that's enough."
  },
  {
    "character" : "Frederick",
    "dialogue" : "And your mind, milord?<br> Will you now heed its council as well?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Frederick, the Shepherds could use someone with <span class=\"avatar-name\">Robin</span>'s talents."
  },
  {
    "character" : "Chrom",
    "dialogue" : "We've brigands and unruly neighbors, all looking to bloody our soil."
  },
  {
    "character" : "Chrom",
    "dialogue" : "Would you really have us lose such an able tactician?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Besides, I believe <span class='male-avatar'>his</span><span class='female-avatar'>her</span> story, odd as it might be."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Th-thank you, Chrom."
  },
  {
    "character" : "Chrom",
    "dialogue" : "So how about it? Will you join us, <span class=\"avatar-name\">Robin</span>?"
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "I would be honored."
  },
  {
    "character" : "Frederick",
    "dialogue" : "Did you notice, milord? <br>The brigands spoke with a Plegian accent."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Plegian? What's that?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Plegia is Ylisse's westerly neighbor."
  },
  {
    "character" : "Chrom",
    "dialogue" : "They send small bands into our territory, hoping to instigate a war."
  },
  {
    "character" : "Lissa",
    "dialogue" : "And it's the poor townsfolk who suffer!<br> Totally innocent, and totally helpless..."
  },
  {
    "character" : "Frederick",
    "dialogue" : "They do have us, milady:<br> Shepherds to protect the sheep."
  },
  {
    "character" : "Frederick",
    "dialogue" : "Do not be swept up in your anger.<br> It will cloud your judgment."
  },
  {
    "character" : "Lissa",
    "dialogue" : "I know, I know...<br> Don't worry. I'll get used to all this."
  },
  {
    "character" : "Villager",
    "dialogue" : "Milord, please! You must stay the night!"
  },
  {
    "character" : "Villager",
    "dialogue" : "We are simple folk of simple means, but we would gladly toast your valor with a feast!"
  },
  {
    "character" : "Frederick",
    "dialogue" : "A most generous offer, sir, and no doubt your hospitality would be grand..."
  },
  {
    "character" : "Frederick",
    "dialogue" : "But I'm afraid we must hurry back to Ylisstol."
  },
  {
    "character" : "Lissa",
    "dialogue" : "Dark meat only for me, medium well, and no salt in the soup. I simply—"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Wait, what?! We're not staying?! <br>But, Frederick, it's nearly dark!"
  },
  {
    "character" : "Frederick",
    "dialogue" : "When night falls, we'll camp."
  },
  {
    "character" : "Frederick",
    "dialogue" : "Eat off the land, make our bed of twigs and the like..."
  },
  {
    "character" : "Frederick",
    "dialogue" : "I believe you mentioned you would be \"getting used to this\"?"
  },
  {
    "character" : "Lissa",
    "dialogue" : "Frederick? Sometimes I hate you."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "You've quite the stern lieutenant there."
  },
  {
    "character" : "Lissa",
    "dialogue" : "Yeah, well, \"stern\" is one name for it.<br> I can think of a few others!"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Frederick only smiles when he's about to bring down the axe."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Duly noted."
  },
  {
    "character" : "Frederick",
    "dialogue" : "*Ahem* You do realize I AM still present?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "Oh, we realize."
  },
  {
    "character" : "<span class=\"avatar-name\">Robin</span>",
    "dialogue" : "Heh heh."
  },
  {
    "character" : "Frederick",
    "dialogue" : "Milord remains as amusing as ever.<br> Now then, shall we be going?"
  },
  {
    "character" : "Chrom",
    "dialogue" : "All right, all right. Ready to go, <span class=\"avatar-name\">Robin</span>? <br>The capital isn't far."
  },
]
document.write(`
<div class="chapter" id="prologue">
<h2>Prologue: The Verge of History</h2>
`);

chapterDialogue.forEach(dialogueLine => {
  document.write(`
  <div class="new-text-box">

<svg width="600" height="120">
  <polygon 
          points="20 0, 580 0, 600 20, 600 100, 580 120, 20 120, 0 100, 0 20 " 
          fill="#F2CDA0" stroke="#660000" stroke-width="2"
  />

</svg> 
  <div class="new-who-is-speaking">
    ${dialogueLine.character}
  </div>
  <div class="new-text-box-dialogue">
    ${dialogueLine.dialogue}        
  </div>
</div>
`);
});


document.write(`</div>`);
